#:import utils kivy.utils
#:import WipeTransition kivy.uix.screenmanager.WipeTransition

<RoundedButton@Button>:
    # Disable default background
    background_color: 0, 0, 0, 0
    background_normal: ''
        
    # Default colors
    normal_color: 0.3, 0.3, 0.3, 1
    pressed_color: 0.2, 0.2, 0.2, 1
    current_color: self.normal_color
        
    radius: [15]

    # When pressed, change color
    on_press:
        self.current_color = self.pressed_color
    on_release:
        self.current_color = self.normal_color

    canvas.before:
        Color:
            rgba: self.current_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: self.radius

<NavigationManager>:

    canvas.before:
        Color:
            rgba: 0.1, 0.1, 0.1, 1  # Dark gray background
        Rectangle:
            pos: self.pos
            size: self.size
    
    ScreenManager:
        size: root.width, root.height 
        id: current_screen
        #transition: WipeTransition(duration=0.25)
        
        Screen:
            name: "Till"
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1  # Dark gray background
                Rectangle:
                    pos: self.pos
                    size: self.size    
            FloatLayout:
                Label:
                    text: "Location:"
                    font_size: '28sp'
                    pos_hint: {"top": 0.8, "center_x": 0.5}
                    color: 0, 0, 0, 1
                    size_hint: (0.5, 0.1)

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  # Dark gray background
                        Rectangle:
                            pos: self.pos
                            size: self.size  
                BoxLayout:
                    spacing: 5
                    padding: 10
                    orientation: 'horizontal'  

                    pos_hint: {"top": 0.68, "center_x": 0.5}
                    color: 0, 0, 0, 1
                    size_hint: (0.8, 0.35)

                    canvas.before:
                        Color:
                            rgba: 0.3, 0.3, 0.3, 1  # Dark gray background
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size 
                            radius: [5]
                    Label:
                        text: "Fajr: 05:12 AM"
                        color: 0, 0, 0, 1
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 0.9  # Dark gray background
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size 
                                radius: [5]
                    Label:
                        text: "Duhur: 05:12 AM"
                        color: 0, 0, 0, 1
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 0.9  # Dark gray background
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size 
                                radius: [5]
                    Label:
                        text: "Asr: 05:12 AM"
                        color: 0, 0, 0, 1
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 0.9  # Dark gray background
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size 
                                radius: [5]
                    Label:
                        text: "Magrib: 05:12 AM"
                        color: 0, 0, 0, 1
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 0.9  # Dark gray background
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size 
                                radius: [5] 
                    Label:
                        text: "Isha: 05:12 AM"
                        color: 0, 0, 0, 1
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 0.9  # Dark gray background
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size 
                                radius: [5]                               
                Label:
                    text: "Time remaining:"
                    font_size: '28sp'
                    pos_hint: {"top": 0.3125, "center_x": 0.5}
                    color: 0, 0, 0, 1
                    size_hint: (0.5, 0.1)

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  # Dark gray background
                        Rectangle:
                            pos: self.pos
                            size: self.size  
        Screen:
            name: "Alarms"
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1  # Dark gray background
                Rectangle:
                    pos: self.pos
                    size: self.size    

            FloatLayout:
                size_hint: (None, None)
                size: root.width, root.height 
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1  # Dark gray background
                    Rectangle:
                        pos: self.pos
                        size: self.size    
                Label:
                    text: "Alarms"
                    pos_hint: {"top": 0.9, "center_x": 0.3}
                    font_size: '32sp'
                    size_hint: (0.5, 0.1)
                    color: 0, 0, 0, 1

                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  # Dark gray background
                        Rectangle:
                            pos: self.pos
                            size: self.size   
            
        Screen:
            name: "International"
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1  # Dark gray background
                Rectangle:
                    pos: self.pos
                    size: self.size    

            FloatLayout:
                size_hint: (None, None)
                size: root.width, root.height 
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1  # Dark gray background
                    Rectangle:
                        pos: self.pos
                        size: self.size    
                Label:
                    text: "International Prayer Times"
                    pos_hint: {"top": 0.9, "center_x": 0.3}
                    font_size: '32sp'
                    size_hint: (0.5, 0.1)
                    color: 0, 0, 0, 1

                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  # Dark gray background
                        Rectangle:
                            pos: self.pos
                            size: self.size   
        Screen:
            name: "Qibla"
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1  # Dark gray background
                Rectangle:
                    pos: self.pos
                    size: self.size    

            FloatLayout:
                size_hint: (None, None)
                size: root.width, root.height 
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1  # Dark gray background
                    Rectangle:
                        pos: self.pos
                        size: self.size    
                Label:
                    text: "Qibla Direction"
                    pos_hint: {"top": 0.9, "center_x": 0.3}
                    font_size: '32sp'
                    size_hint: (0.5, 0.1)
                    color: 0, 0, 0, 1

                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  # Dark gray background
                        Rectangle:
                            pos: self.pos
                            size: self.size   
        Screen:
            name: "Settings"
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1  # Dark gray background
                Rectangle:
                    pos: self.pos
                    size: self.size    

            FloatLayout:
                size_hint: (None, None)
                size: root.width, root.height 
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1  # Dark gray background
                    Rectangle:
                        pos: self.pos
                        size: self.size    
                Label:
                    text: "Settings"
                    pos_hint: {"top": 0.9, "center_x": 0.3}
                    font_size: '32sp'
                    size_hint: (0.5, 0.1)
                    color: 0, 0, 0, 1

                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  # Dark gray background
                        Rectangle:
                            pos: self.pos
                            size: self.size   
    BoxLayout:
        size_hint_y: 0.1
        spacing: 5
        padding: 5

        RoundedButton:
            text: 'Till'
            on_press: root.screen_switcher("Till", self)

        RoundedButton:
            text: 'Alarms'
            on_press: root.screen_switcher("Alarms", self)

        RoundedButton:
            text: 'International'
            on_press: root.screen_switcher("International", self)

        RoundedButton:
            text: 'Qibla'
            on_press: root.screen_switcher("Qibla", self)

        RoundedButton:
            text: 'Settings'
            on_press: root.screen_switcher("Settings", self)

            
            

